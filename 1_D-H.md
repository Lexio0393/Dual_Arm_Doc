# 双臂无影灯系统备注

    无影灯灯重量位7.2kg，机械臂最大负载应大于该重量
    1. Elite Robots - EC68 最大有效载荷 8kg
    2. Universal Robots - UR10e 最大有效载荷10kg
 
# 机器人运动学分析

全局坐标系***U***\
机器人基座坐标系***R***\
机器人手坐标系***H***\
末端执行器坐标系***E***\
目标坐标系***E***

齐次变换矩阵
$$
F = \begin{bmatrix} n_{x}&o_{x}&a_{x}&p_{x} \\ n_{y}&o_{y}&a_{y}&p_{y} \\ 
                       n_{z}&o_{z}&a_{z}&p_{z} \\ 0&0&0&1 
    \end{bmatrix}
$$

## DH法建模

对于每个关节都必须指定一个 *z* 轴和一个 *x* 轴，*y* 轴总是垂直于 *z* 轴和 *x* 轴。

- 所有关节都用 *z* 轴表示，关节 *n* 处的 *z* 轴的编号为 *n* \- 1。
- 通常两关节不一定平行或相交，因此常在公垂线方向上定义本地参考坐标系的 *x* 轴。如果 *a<sub>n</sub>* 表示 *z<sub>n</sub> \- 1* 与 *z<sub>n</sub>* 之间的公垂线，则定义 *x<sub>n</sub>* 的方向为沿 *a<sub>n</sub>* 的方向

由于所有的变换都是相对于当前坐标系进行的，因此所有变换矩阵都是右乘的

|  *#*  |   *θ*   |  *d*  |  *a*  |  *α*  |
| :-: |---|---|---|---|
| 0-1 |   |   |   |   |
| 1-2 |   |   |   |   |
| 2-3 |   |   |   |   |
| 3-4 |   |   |   |   |
| 4-5 |   |   |   |   |
| 5-6 |   |   |   |   |

### 标准DH法和改进DH法

- 区别一： SDH法把连杆 *i* 的坐标系固连在连杆的远端，MDH法把连杆 *i* 的坐标系固连在连杆近端。
- 区别二： 执行变换的顺序不同，SDH法参数顺序为 *d* -> *θ* -> *a* -> *α* ；MDH法参数顺序为 *α* -> *a* -> *θ* -> *d* 
  
  对于树状或闭链结构的机器人，SDH法由于把坐标系建在连杆的远端，会导致一个连杆上出现两个坐标系的问题；MDH法把坐标系建立在连杆近端，可以避免这种情况。

### MATLAB SerialLink
- 采用标准DH法，描述各连杆参数  
   
    对于常见构型的六自由度机械臂，每个关节连接一个连杆，调用SerialLink连接到 *L<sub>n</subb>* 后，GUI中显示的坐标系为坐标系 *n + 1*   
    以下代码描述了坐标系 *1* 转换到坐标系 *2* 的DH参数。  
    调用SerialLink后，生成关节 *1* 、连杆 *1*，关节 *2* 未生成，但末端坐标系位置即为关节 *2* 坐标系

```matlab
%        theta    d        a        alpha     offset
L1=Link([0       -100      0         pi/2      0     ]);  %1-2  
%L2=Link([0        0        0         0         0     ]); %若要GUI显示坐标系2原始位置，DH参数均取0即可
robot = SerialLink([L1], 'name', 'robot');
%robot = SerialLink([L1， L2], 'name', 'robot');
```

- DH模型建立示范

```matlab
clear;
clc;
% %建立机器人模型
%        theta    d        a        alpha     offset
L1=Link([0       -100      0         pi/2      0     ]);  %1-2  
L2=Link([0        0        800       0         0     ]);  %2-3  
L3=Link([0        0        0        -pi/2      0     ]);  %3-4  
L4=Link([0       -400      0         pi/2      0     ]);  %4-5  
L5=Link([0        400      0        -pi/2      0     ]);  %5-6  
L6=Link([0        200      0         pi/2      0     ]);  %6-final

robot=SerialLink([L1 L2 L3 L4 L5 L6], 'name', 'robot'); %连接连杆，机器人取名robot
robot.display() %显示DH参数
teach(Lamp_Robot); % 示教

hold on;
```
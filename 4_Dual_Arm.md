# 双臂协调运动
## 双臂协调运动类型
 - 双臂独立运动  
   $\quad\;\;$双臂各自完成相互独立的任务，不需要考虑双臂间的运动学和动力学约束，但是由于双臂工作空间存在重叠区域，需要 ***在规划双臂运动轨迹时进行碰撞检测*** 。  

 - 双臂松协调运动  
  $\quad\;\;$机器人双臂与被操作物体之间形成不完全封闭的，有着一定约束关系的 ***半闭链系统*** 。这个半闭链系统中的约束关系 ***会随着运动过程不断变化*** 。  

 - 双臂紧协调运动  
  $\quad\;\;$ 双臂与被操作物体组成了一个具有完整约束的 ***闭链系统*** 。双臂末端执行器在运动过程中始终 ***保持相对不动*** 。

## 双臂协调运动约束推导 
1. 双臂独立运动约束 ~~起始状态到探照状态~~
2. 双臂松协调运动约束 ~~调整两灯头配合探照姿态~~
3. 双臂紧协调运动约束 ~~以固定配合探照姿态移动探照位置~~





> [双臂机器人协调运动规划方法研究_林智峰_哈尔滨工业大学](https://d.wanfangdata.com.cn/thesis/ChJUaGVzaXNOZXdTMjAyMzAxMTISCUQwMjQwNDUwNBoIeDh5dGw3YnM%3D)
>> ROS实验平台搭建 - 运动学建模 - 碰撞检测与路径规划 - **双臂协调运动规划**  
>> 双臂协调运动规划部分已精读

# 双臂控制方法

 - 主从控制法  
   将机械臂定义为主机械臂和从机械臂。通过操纵主机器人跟随特定的运动轨迹，而从机械臂跟随主机械臂运动，根据任务类型的不同，机械臂与被操作物体之间需要满足特定的约束关系。

 - 集中控制法  
    根据目标物体的期望力和运动轨迹，分别设定每一个机器人的控制目标

 - 分散控制法  
   每一个机器人都由一个独立的控制器控制，用传感器测量机器人之间的相互作用，通过机器人之间的交互和力反馈进行控制

   ## 主从式双臂控制法
   将机器人双臂协作问题转化为双臂末端执行器的位姿约束问题，根据协作任务中双臂末端的关系。将协作类型分为 **耦合协作** 和 **叠加协作** 。
   - 双臂末端保持相对静止的运动过程称之为耦合协作运动
   - 双臂末端有相对运动的运动过程称之为叠加协作运动  


    先根据特定轨迹的参数方程规划出主臂的期望运动轨迹，然后通过双臂末端执行器之间的位姿和速度协调约束关系规划出从臂的期望运动轨迹。 

# 3. 协作情况下双臂协作运动轨迹规划

$\quad\;\;$主从式协作规划方式：先确定主机械臂的运动轨迹，进而通过 **主从臂之间的约束关系** 计算 **从机械臂的运动轨迹** ，达到双臂协作运动的效果。建立协作运动过程中位姿约束关系是解决协作问题的核心。  
- 耦合协作运动要求运动中双臂末端执行器保持相对静止，即 *双臂末端间的齐次变换矩阵保持不变* 。  
- 叠加协作运动是指双臂末端执行器有相对运动，即 *双臂末端之间的齐次变换矩阵是时变的* 。  

# 3.1 齐次变换矩阵相关内容  
$$
\begin{aligned}
&^{A}P_B : 点B在坐标系A中的位置向量 \\
&^{A}R_B : 坐标系B相对于坐标系A的旋转矩阵 \\
&^{A}T_B : 坐标系B在坐标系A中的齐次变换矩阵    
\end{aligned}
$$


$$
\left\{
\begin{aligned}
&^{A}T^{-1}_B = ^{B}T_A \\
&^{A}R^{T}_B = ^{A}R^{-1}_B = ^{B}R_A \\

\end{aligned}

\right.
$$

# 3.2 耦合协作下运动约束方程  
$\quad\;\;$主从臂末端在写作过程中保持相对静止
# 3.3 叠加协作下运动约束方程
